(this.webpackJsonplevandro_site=this.webpackJsonplevandro_site||[]).push([[0],[,,function(e,t){},,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(5),l=a.n(i),s=a(1),c=(a(12),a(13),"http://localhost");a(2);var r=function(e){return e.auth.isAuth?o.a.createElement("div",{id:"header"},o.a.createElement("div",{className:"header-wrapper"},o.a.createElement("div",{className:"logout",onClick:function(){var t=sessionStorage.getItem("token");fetch(c+"/api/auth/logout",{method:"GET",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+t}}),e.setAuth({name:"",isAuth:!1}),sessionStorage.clear()}},o.a.createElement("p",null,"LOGOUT")),o.a.createElement("div",{className:"header-button-greeting"},o.a.createElement("p",{className:"admin-question",onClick:function(){fetch("http://localhost/api/checkAdminRights/",{method:"GET",mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then((function(e){if(!e.ok)return e.json();var t=prompt("Enter the name of the new section",""),a=prompt("Enter a description of the new section",""),n={section_name:t,section_description:a};null!=t&&null!=a&&t.length<150&&a.length<500?fetch("http://localhost/api/addSection/",{method:"POST",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify(n)}).then((function(e){if(!e.ok)return e.json();alert("section added!"),document.location.reload()})).then((function(e){void 0!==e&&alert(e.error)})):alert("Check input")})).then((function(e){void 0!==e&&alert(e.error)}))}},e.auth.name,", do you want to add a new section?")))):o.a.createElement("div",{id:"header"},o.a.createElement("div",{className:"header-button"},o.a.createElement("p",{onClick:function(){e.setModal()}},"LOGIN")))},d=a(6);var u=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),i=a[0],l=a[1],r=Object(n.useState)(""),u=Object(s.a)(r,2),m=u[0],h=u[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),p=v[0],f=v[1],b=Object(n.useState)(""),k=Object(s.a)(b,2),E=k[0],N=k[1],R=Object(n.useState)(!1),C=Object(s.a)(R,2),S=(C[0],C[1],Object(n.useState)("")),O=Object(s.a)(S,2),j=O[0],y=O[1],w=Object(n.useState)(""),B=Object(s.a)(w,2);return B[0],B[1],o.a.createElement("div",null,o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"alert-msg-wrapper"},o.a.createElement("p",{className:"alert-msg"},j)),o.a.createElement("form",{action:""},o.a.createElement("input",{onChange:function(e){l(e.target.value)},className:"input-field",type:"email",placeholder:"Name",value:i}),o.a.createElement("input",{onChange:function(e){h(e.target.value)},className:"input-field",type:"email",placeholder:"E-Mail",value:m}),o.a.createElement("input",{onChange:function(e){f(e.target.value)},className:"input-field",type:"password",placeholder:"Password",value:p}),o.a.createElement("input",{onChange:function(e){N(e.target.value)},className:"input-field",type:"password",placeholder:"Confirm password",value:E}))),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("div",{className:"button",onClick:function(){var t=[l,h,f,N];!function(e,t,a,n,o){fetch(c+"/api/auth/signup",{method:"POST",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(e)}).then((function(e){if(e.ok){t("");var o,i=Object(d.a)(n);try{for(i.s();!(o=i.n()).done;){(0,o.value)("")}}catch(l){i.e(l)}finally{i.f()}a()}return e.ok||t("Check your credentials"),e.json()})).then((function(t){void 0!=t.username&&(o({name:t.username,isAuth:!0}),sessionStorage.setItem("name",t.username),sessionStorage.setItem("email",e.email),sessionStorage.setItem("token",t.access_token))}))}({name:i,email:m,password:p,password_confirmation:E},y,e.hideModal,t,e.setAuth)}},"Submit")),o.a.createElement("p",{className:"modal-link",onClick:function(){e.setType("login")}},"LOGIN"),o.a.createElement("div",{className:"modal-checkbox-wrapper"}))};var m=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),i=a[0],l=a[1],r=Object(n.useState)(""),d=Object(s.a)(r,2),u=d[0],m=d[1],h=Object(n.useState)(!1),g=Object(s.a)(h,2),v=g[0],p=(g[1],Object(n.useState)("")),f=Object(s.a)(p,2),b=f[0],k=f[1];return o.a.createElement("div",null,o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"alert-msg-wrapper"},o.a.createElement("p",{className:"alert-msg"},b)),o.a.createElement("form",{action:""},o.a.createElement("input",{onChange:function(e){l(e.target.value)},className:"input-field",type:"email",placeholder:"E-Mail",value:i}),o.a.createElement("input",{onChange:function(e){m(e.target.value)},className:"input-field",type:"password",placeholder:"Password",value:u}))),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("div",{className:"button",onClick:function(){!function(e,t,a,n,o,i){fetch(c+"/api/auth/login",{method:"POST",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(e)}).then((function(e){return e.ok?(t(""),n(""),o(""),a()):t("Check your credentials"),e.json()})).then((function(t){void 0!=t.username&&(i({name:t.username,isAuth:!0}),sessionStorage.setItem("name",t.username),sessionStorage.setItem("email",e.email),sessionStorage.setItem("token",t.access_token))}))}({email:i,password:u,remember_me:v},k,e.hideModal,l,m,e.setAuth)}},"Submit")),o.a.createElement("p",{className:"modal-link",onClick:function(){e.setType("signup")}},"SIGNUP"))};function h(e){return function(e){var t=e/1024;return Math.ceil(t)}(e.target.files[0].size)}var g=function(e){var t,a={value:"",isRight:!1,isRightClass:"wrong"},i=Object(n.useState)(!1),l=Object(s.a)(i,2),r=l[0],d=l[1],u=Object(n.useState)(a),m=Object(s.a)(u,2),g=m[0],v=m[1],p=Object(n.useState)(a),f=Object(s.a)(p,2),b=f[0],k=f[1],E=Object(n.useState)(a),N=Object(s.a)(E,2),R=N[0],C=N[1],S=Object(n.useState)({value:0,file:null,isRight:!1,isRightClass:"file-not-uploaded",title:"Image not uploaded"}),O=Object(s.a)(S,2),j=O[0],y=O[1],w=Object(n.useState)({value:"",isRight:!0,isRightClass:""}),B=Object(s.a)(w,2),M=B[0],A=B[1],I=Object(n.useState)(a),q=Object(s.a)(I,2),T=q[0],X=q[1],_=e.sections.map((function(e,t){return o.a.createElement("option",{key:t},e)})),P=e.sections.map((function(e){return{value:e}}));return Object(n.useEffect)((function(){g.isRight&&j.isRight&&b.isRight&&R.isRight&&M.isRight&&T.isRight?d(!0):d(!1)}),[g.value,j.value,b.value,R.value,M.value,T.value]),t=r?"add-book-button":"add-book-button-forbidden",o.a.createElement("div",{className:"add-book-wrapper overflow-hidden"},o.a.createElement("h3",null,"Add book information"),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("input",{onChange:function(e){v({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>150)&&v({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+g.isRightClass,placeholder:"Book name"}),o.a.createElement("input",{onChange:function(e){k({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>100)&&k({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+b.isRightClass,placeholder:"Book author"})),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("textarea",{onChange:function(e){C({value:e.target.value,isRight:!0,isRightClass:""}),(e.target.value.length>2e3||0==e.target.value.length)&&C({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-textarea-field "+R.isRightClass,placeholder:"Book description"})),o.a.createElement("div",{className:"add-book-file-upload"},o.a.createElement("h4",{className:"add-book-file-upload-title "+j.isRightClass},j.title),o.a.createElement("div",{className:"add-book-file-upload-field"},o.a.createElement("input",{placeholder:"Book cover",className:"add-book-file-uploading",type:"file",id:"add-book-img",accept:"image/*",onChange:function(e){var t=h(e);y(t<=500&&t>0?{value:t,isRight:!0,file:e.target.files[0],isRightClass:"file-uploaded",title:"Image uploaded"}:{value:t,isRight:!1,file:null,isRightClass:"file-not-uploaded",title:"Image too big"})}}))),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("input",{onChange:function(e){A({value:e.target.value,isRight:!0,isRightClass:""}),(e.target.value.length>4||!Number.isInteger(Number(e.target.value))||Number(e.target.value)<0)&&A({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+M.isRightClass,placeholder:"Book published (unnecessary)"}),o.a.createElement("input",{onChange:function(e){X({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>150||void 0==P.find((function(t){if(t.value==e.target.value)return!0})))&&X({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+T.isRightClass,placeholder:"Section name",list:"add-book-sections"}),o.a.createElement("datalist",{id:"add-book-sections"},_)),o.a.createElement("div",{className:"add-book-button-wrapper"},o.a.createElement("div",{className:t,onClick:function(){return function(e,t,a,n,o,i,l,s){if(l){var r=new FormData;sessionStorage.getItem("email");r.append("bookName",e),r.append("bookAuthor",t),r.append("bookDescription",a),r.append("bookCover",n),""!==o&&r.append("bookPublished",o),r.append("sectionName",i),fetch(c+"/api/addBook/",{method:"POST",mode:"cors",headers:{Authorization:"Bearer "+sessionStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"},body:r}).then((function(e){if(!e.ok)return e.json();document.querySelector("#all-section-client").click(),s()})).then((function(e){void 0!=e&&alert(e.message)}))}}(g.value,b.value,R.value,j.file,M.value,T.value,r,e.hide)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))};var v=function(e){var t="";t=null===e.book.book_published?o.a.createElement("p",null,"Not specified"):o.a.createElement("p",null,e.book.book_published);var a="hide";return e.book.isAuth&&(a=""),o.a.createElement("div",{className:"add-book-wrapper"},o.a.createElement("div",{className:"card-img-wrapper"},o.a.createElement("img",{src:c+e.book.book_cover,alt:""})),o.a.createElement("div",{className:"card-info"},o.a.createElement("div",{className:"card-item"},o.a.createElement("h3",null,"Name"),o.a.createElement("p",null,e.book.book_name)),o.a.createElement("div",{className:"card-item"},o.a.createElement("h3",null,"Author"),o.a.createElement("p",null,e.book.book_author))),o.a.createElement("div",{className:"card-info"},o.a.createElement("div",{className:"card-item"},o.a.createElement("h3",null,"Published"),o.a.createElement("p",null,t)),o.a.createElement("div",{className:"card-item"},o.a.createElement("h3",null,"Section"),o.a.createElement("p",null,e.book.section_name))),o.a.createElement("div",{className:"card-desc"},o.a.createElement("h3",null,"Description"),o.a.createElement("p",null,e.book.book_description)),o.a.createElement("div",{className:"card-info"},o.a.createElement("div",{className:"card-button edit "+a,onClick:function(){e.setModal(!1,"editBook",e.book)}},o.a.createElement("p",null,"Edit")),o.a.createElement("div",{onClick:function(){!function(e,t,a){var n={id:e};fetch(c+"/api/removeBook",{method:"POST",mode:"cors",headers:{Authorization:"Bearer "+sessionStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){void 0!==e.error&&alert(e.error),document.querySelector(t).click(),a()}))}(e.book.id,e.book.targetSection,e.hide)},className:"card-button remove "+a},o.a.createElement("p",null,"Remove")),o.a.createElement("div",{className:"card-button hide-btn "+a,onClick:function(){var t,a;t=e.book.client_id,a=e.hide,document.querySelector("#"+t).classList.add("hide"),a()}},o.a.createElement("p",null,"Hide"))))};function p(e){return function(e){var t=e/1024;return Math.ceil(t)}(e.target.files[0].size)}var f=function(e){var t,a=Object(n.useState)(!0),i=Object(s.a)(a,2),l=i[0],r=i[1],d=Object(n.useState)({value:e.book.book_name,isRight:!0,isRightClass:""}),u=Object(s.a)(d,2),m=u[0],h=u[1],g=Object(n.useState)({value:e.book.book_author,isRight:!0,isRightClass:""}),v=Object(s.a)(g,2),f=v[0],b=v[1],k=Object(n.useState)({value:e.book.book_description,isRight:!0,isRightClass:""}),E=Object(s.a)(k,2),N=E[0],R=E[1],C=Object(n.useState)({value:0,file:null,isRight:!1,isRightClass:"file-not-uploaded",title:"Image not uploaded"}),S=Object(s.a)(C,2),O=S[0],j=S[1],y=Object(n.useState)({value:e.book.book_published,isRight:!0,isRightClass:""}),w=Object(s.a)(y,2),B=w[0],M=w[1],A=Object(n.useState)({value:e.book.section_name,isRight:!0,isRightClass:""}),I=Object(s.a)(A,2),q=I[0],T=I[1],X=e.sections.map((function(e,t){return o.a.createElement("option",{key:t},e)})),_=e.sections.map((function(e){return{value:e}}));return Object(n.useEffect)((function(){m.isRight&&O.isRight&&f.isRight&&N.isRight&&B.isRight&&q.isRight?r(!0):r(!1)}),[m.value,O.value,f.value,N.value,B.value,q.value]),t=l?"add-book-button":"add-book-button-forbidden",o.a.createElement("div",{className:"add-book-wrapper overflow-hidden"},o.a.createElement("h3",null,"Edit book information"),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("input",{value:m.value,onChange:function(e){h({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>150)&&h({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+m.isRightClass,placeholder:"Book name"}),o.a.createElement("input",{value:f.value,onChange:function(e){b({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>100)&&b({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+f.isRightClass,placeholder:"Book author"})),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("textarea",{value:N.value,onChange:function(e){R({value:e.target.value,isRight:!0,isRightClass:""}),(e.target.value.length>2e3||0==e.target.value.length)&&R({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-textarea-field "+N.isRightClass,placeholder:"Book description"})),o.a.createElement("div",{className:"add-book-file-upload"},o.a.createElement("h4",{className:"add-book-file-upload-title "+O.isRightClass},O.title),o.a.createElement("div",{className:"add-book-file-upload-field"},o.a.createElement("input",{placeholder:"Book cover",className:"add-book-file-uploading",type:"file",id:"add-book-img",accept:"image/*",onChange:function(e){var t=p(e);j(t<=500&&t>0?{value:t,isRight:!0,file:e.target.files[0],isRightClass:"file-uploaded",title:"Image uploaded"}:{value:t,isRight:!1,file:null,isRightClass:"file-not-uploaded",title:"Image too big"})}}))),o.a.createElement("div",{className:"add-book-inputs"},o.a.createElement("input",{value:B.value,onChange:function(e){M({value:e.target.value,isRight:!0,isRightClass:""}),(e.target.value.length>4||!Number.isInteger(Number(e.target.value))||Number(e.target.value)<0)&&M({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+B.isRightClass,placeholder:"Book published (unnecessary)"}),o.a.createElement("input",{value:q.value,onChange:function(e){T({value:e.target.value,isRight:!0,isRightClass:""}),(0==e.target.value.length||e.target.value.length>150||void 0==_.find((function(t){if(t.value==e.target.value)return!0})))&&T({value:e.target.value,isRight:!1,isRightClass:"wrong"})},className:"add-book-input-field "+q.isRightClass,placeholder:"Section name",list:"add-book-sections"}),o.a.createElement("datalist",{id:"add-book-sections"},X)),o.a.createElement("div",{className:"add-book-button-wrapper"},o.a.createElement("div",{className:t,onClick:function(){return function(e,t,a,n,o,i,l,s,r){if(s){var d=new FormData;sessionStorage.getItem("email");d.append("id",e),d.append("bookName",t),d.append("bookAuthor",a),d.append("bookDescription",n),d.append("bookCover",o),""!==i&&d.append("bookPublished",i),d.append("sectionName",l),fetch(c+"/api/editBook/",{method:"POST",mode:"cors",headers:{Authorization:"Bearer "+sessionStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"},body:d}).then((function(e){if(!e.ok)return e.json();document.querySelector("#all-section-client").click(),r()})).then((function(e){void 0!=e&&alert(e.error)}))}}(e.book.id,m.value,f.value,N.value,O.file,B.value,q.value,l,e.hide)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))};var b=function(e){var t="";return e.modalInfo.isHidden?(t="hidden",document.body.style.overflow=""):document.body.style.overflow="hidden","signup"===e.modalInfo.type?o.a.createElement("div",{className:"bg-modal "+t,hidden:e.modalInfo.isHidden},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-wrapper"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{onClick:function(){return e.hideModal()},className:"modal-checkbox-item"},"X")),o.a.createElement(u,{setType:function(t){return e.setModal(!1,t,"")},hideModal:function(){return e.hideModal()},setAuth:e.setAuth})))):"login"===e.modalInfo.type?o.a.createElement("div",{className:"bg-modal "+t,hidden:e.modalInfo.isHidden},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-wrapper"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{onClick:function(){return e.hideModal()},className:"modal-checkbox-item"},"X")),o.a.createElement(m,{setType:function(t){return e.setModal(!1,t,"")},hideModal:function(){return e.hideModal()},setAuth:e.setAuth})))):"addBook"===e.modalInfo.type?o.a.createElement("div",{className:"bg-modal "+t,hidden:e.modalInfo.isHidden},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-wrapper"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{onClick:function(){return e.hideModal()},className:"modal-checkbox-item"},"X")),o.a.createElement(g,{hide:function(){return e.hideModal()},sections:e.modalInfo.payload})))):"Card"===e.modalInfo.type?o.a.createElement("div",{className:"bg-modal "+t,hidden:e.modalInfo.isHidden},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-wrapper"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{onClick:function(){return e.hideModal()},className:"modal-checkbox-item"},"X")),o.a.createElement(v,{hide:function(){return e.hideModal()},book:e.modalInfo.payload,setModal:function(t,a,n){return e.setModal(t,a,n)}})))):"editBook"===e.modalInfo.type?o.a.createElement("div",{className:"bg-modal "+t,hidden:e.modalInfo.isHidden},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-wrapper"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{onClick:function(){return e.hideModal()},className:"modal-checkbox-item"},"X")),o.a.createElement(f,{hide:function(){return e.hideModal()},book:e.modalInfo.payload,sections:e.modalInfo.payload.sections})))):o.a.createElement("div",null)};function k(e,t){var a={section:e};fetch(c+"/api/getBooksFromSections",{method:"POST",mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();alert("problems with server")})).then((function(e){t(e.data)}))}function E(e,t){t("#"+e)}var N=function(e){return 1==e.first?o.a.createElement("div",{className:"sidebar-item sidebar-first",id:e.id,onClick:function(){k(e.section,e.setBooks),E(e.id,e.setSection),e.PagToBegin()}},e.section):o.a.createElement("div",{className:"sidebar-item",id:e.id,onClick:function(){k(e.section,e.setBooks),E(e.id,e.setSection),e.PagToBegin()}},e.section)};var R=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0];return a[1],!e.isAuth||i?o.a.createElement("div",{id:"add-book",className:"hide"}):o.a.createElement("div",{id:"add-book",className:"sidebar-item",onClick:function(){e.setModal(!1,"addBook",e.sections)}},"Add Book")};var C=function(e){return o.a.createElement("div",{id:"all-section-client",className:"sidebar-item",onClick:function(){var t;t=e.setBooks,fetch(c+"/api/getAllBooks",{method:"GET",mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(e.ok)return e.json();alert("problems with server")})).then((function(e){void 0!==e&&t(e.data)})),e.PagToBegin(),e.setSection("#all-section-client")}},"All books")};var S=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),i=a[0],l=a[1],r=Object(n.useState)(!1),d=Object(s.a)(r,2),u=d[0],m=d[1],h=Object(n.useState)(!0),g=Object(s.a)(h,2),v=g[0],p=g[1];return o.a.createElement("div",{className:"find-books-container"},o.a.createElement("input",{id:"find-section-client",className:"find-books",placeholder:"Find books...",onChange:function(e){l(e.target.value)}}),o.a.createElement("div",{className:"find-books-types-container"},o.a.createElement("div",null,o.a.createElement("input",{type:"radio",name:"find-book-author",value:"author",checked:u,onChange:function(){m(!0),p(!1)}}),"Author"),o.a.createElement("div",null,o.a.createElement("input",{type:"radio",name:"find-book-name",value:"name",checked:v,onChange:function(){p(!0),m(!1)}}),"Book Name")),o.a.createElement("div",{className:"find-book-button-wrapper"},o.a.createElement("div",{className:"find-book-button",onClick:function(){(function(e,t,a){var n={query:e,type:t};fetch(c+"/api/findBooks/",{method:"POST",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){void 0!==e&&(void 0!==e.error?alert("nothing founded"):a(e.data))}))})(i,u?"book_author":"book_name",e.setBooks),e.PagToBegin(),e.setSection("#all-section-client")}},"Submit")))};var O=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),i=a[0],l=a[1],r=Object(n.useState)(),d=Object(s.a)(r,2),u=d[0],m=d[1],h=Object(n.useState)(0),g=Object(s.a)(h,2),v=g[0],p=g[1];if(Object(n.useEffect)((function(){fetch(c+"/api/getSections",{method:"GET",mode:"cors",headers:{"Content-type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(t){for(var a=[],n=[],o=0;o<t.data.length;o++){var i="f".concat((~~(1e8*Math.random())).toString(16));a[o]=t.data[o].section_name,n[o]=i}l(a),e.setSectionsList(a),m(n),document.querySelector("#all-section-client").click()}))}),[]),void 0==i||void 0==u)return o.a.createElement("div",{id:"sidebar"},o.a.createElement("div",{className:"section-loading-wrapper"},o.a.createElement("div",{className:"section-loading"},"Loading")));for(var f=i.map((function(t,a){return 0==a?o.a.createElement(N,{setSection:e.setSection,id:u[a],setBooks:e.setBooks,PagToBegin:e.PagToBegin,section:t,key:u[a],first:!0}):o.a.createElement(N,{setSection:e.setSection,id:u[a],setBooks:e.setBooks,PagToBegin:e.PagToBegin,section:t,key:u[a]})})),b=[],k=!1,E=i.length,O="",j="",y=0;y<5;y++){var w=y+5*v;if(w>=E){k=!0;break}b[y]=f[w],0==v&&(O="hide"),k&&(j="hide")}return o.a.createElement("div",{id:"sidebar"},o.a.createElement("div",{className:"sidebar-wrapper"},b,o.a.createElement(C,{setSection:e.setSection,PagToBegin:e.PagToBegin,setBooks:e.setBooks}),o.a.createElement(R,{isAuth:e.isAuth,sections:i,setModal:function(t,a,n){return e.setModal(t,a,n)}})),o.a.createElement("div",{className:"section-pagination"},o.a.createElement("div",{onClick:function(){return p(v-1)},className:"section-pagination-counter "+O},"-"),o.a.createElement("div",{onClick:function(){return p(v+1)},className:"section-pagination-counter "+j},"+")),o.a.createElement(S,{setSection:e.setSection,PagToBegin:e.PagToBegin,setBooks:e.setBooks}))};var j=function(e){var t=e.book;return t.isAuth=e.isAuth,t.targetSection=e.targetSection,o.a.createElement("div",{className:"mini-card",id:t.client_id,onClick:function(){e.setModal(!1,"Card",t)}},o.a.createElement("div",{className:"mini-card-img-wrapper"},o.a.createElement("img",{src:c+e.book.book_cover,alt:""})),o.a.createElement("div",{className:"mini-card-book-name-wrapper"},o.a.createElement("h5",null,"Name: ",e.book.book_name)),o.a.createElement("div",{className:"mini-card-book-author-wrapper"},o.a.createElement("h5",null,"Author: ",e.book.book_author)))};var y=function(e){var t=Object(n.useState)("hide"),a=Object(s.a)(t,2),i=a[0],l=a[1],c=e.books.map((function(t,a){var n="book"+(a+1),i=t;return i.sections=e.sections,i.client_id=n,o.a.createElement(j,{targetSection:e.targetSection,key:a+1,setModal:e.setModal,isAuth:e.isAuth,book:i})}));Object(n.useEffect)((function(){0!=u&&l("")}));var r=[],d=!1,u=c.length,m="",h="";if(0!=u){for(var g=0;g<8;g++){var v=g+8*e.count.counter;if(v>=u){d=!0;break}r[g]=c[v]}0==e.count.counter&&(m="hide"),d&&(h="hide")}return o.a.createElement("div",{id:"workspace"},o.a.createElement("div",{id:"workspace-container"},r),o.a.createElement("div",{className:"pagination "+i},o.a.createElement("p",{onClick:function(){return e.count.setCounter(e.count.counter-1)},className:m},"BACK"),o.a.createElement("p",{onClick:function(){return e.count.setCounter(e.count.counter+1)},className:h},"FORWARD")))};a(14);var w=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)("all-section-client"),r=Object(s.a)(c,2),d=r[0],u=r[1],m=Object(n.useState)("all-section-client"),h=Object(s.a)(m,2),g=h[0],v=h[1],p=Object(n.useState)(0),f=Object(s.a)(p,2),b=f[0],k=f[1];return o.a.createElement("div",{id:"dashboard"},o.a.createElement(O,{isAuth:e.isAuth,PagToBegin:function(){return k(0)},setBooks:l,setSection:u,setSectionsList:v,setModal:function(t,a,n){return e.setModal(t,a,n)}}),o.a.createElement(y,{books:i,targetSection:d,sections:g,count:{setCounter:k,counter:b},isAuth:e.isAuth,setModal:function(t,a,n){return e.setModal(t,a,n)}}))};a(15);var B=function(){var e=Object(n.useState)({isHidden:!0,type:"",payload:""}),t=Object(s.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)({name:"",isAuth:!1}),c=Object(s.a)(l,2),d=c[0],u=c[1],m=Object(n.useState)(!1),h=Object(s.a)(m,2),g=(h[0],h[1]);return Object(n.useEffect)((function(){if(null!=sessionStorage.getItem("token")||sessionStorage.getItem("name")){var e=sessionStorage.getItem("name");null==e&&(e=""),u({name:e,isAuth:!0}),g(!1)}}),[]),o.a.createElement("div",null,o.a.createElement(r,{setModal:function(){return i({isHidden:!1,type:"login",payload:""})},auth:d,setAuth:u,setAdmin:g}),o.a.createElement(b,{hideModal:function(){return i({isHidden:!0,type:"",payload:""})},setModal:function(e,t,a){return i({isHidden:e,type:t,payload:a})},setAuth:u,modalInfo:a}),o.a.createElement(w,{isAuth:d.isAuth,setModal:function(e,t,a){return i({isHidden:e,type:t,payload:a})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.f1b84231.chunk.js.map